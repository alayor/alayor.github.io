I""<p>Code Cleanliness Ratio (CCR) is the total number of <code class="language-plaintext highlighter-rouge">Domain Words</code> found in a 
software code repository divided by the total number of words
in the repository.</p>

<!--excerpt_end-->
<p><img src="/assets/images/code1.png" alt="Required" /></p>

<p>Most of the time software projects are filled up with words and sentences that just 
don’t help with figuring out what the projects are actually about.</p>

<p>Some examples of these words are: <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">util</code>, <code class="language-plaintext highlighter-rouge">service</code>,
<code class="language-plaintext highlighter-rouge">processor</code>, <code class="language-plaintext highlighter-rouge">String</code>, <code class="language-plaintext highlighter-rouge">int</code>, and many more.</p>

<p>These words make it difficult to find out the intention of the project.</p>

<p>For instance, it’s more clear to see code like this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Invoice</span><span class="o">.</span><span class="na">ifItWasPaid</span><span class="o">().</span><span class="na">then</span><span class="o">().</span><span class="na">sendToCustomer</span><span class="o">()</span>
</code></pre></div></div>

<p>than to see this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">...)</span> <span class="o">{</span>
  <span class="nc">Invoice</span> <span class="n">inv</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Invoice</span><span class="o">(</span><span class="n">input</span><span class="o">)</span>
  <span class="kt">boolean</span> <span class="n">wasPaid</span> <span class="o">=</span> <span class="n">inv</span><span class="o">.</span><span class="na">wasPaid</span>
  <span class="nf">if</span> <span class="o">(</span><span class="kt">boolean</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">inv</span><span class="o">.</span><span class="na">sendToCustomer</span><span class="o">()</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The formula to calculate the Code Cleanliness Ratio is:</p>

<p>CCR = ∑DW / ∑W</p>

<p>where ∑DW is the number of words that belong in the <code class="language-plaintext highlighter-rouge">Domain Words</code>
category and ∑W is the total number of words.</p>

<p>We consider “words” as all the variables, signs,
file names, folder names, etc.</p>

<p>The <code class="language-plaintext highlighter-rouge">Domain Words</code> are the words related to the domain of the
software application or solution.</p>

<p>Examples of <code class="language-plaintext highlighter-rouge">Domain Words</code> in a Travel Software Application are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Flight</code></li>
  <li><code class="language-plaintext highlighter-rouge">Origin</code></li>
  <li><code class="language-plaintext highlighter-rouge">Destination</code></li>
  <li><code class="language-plaintext highlighter-rouge">Reservation</code></li>
  <li><code class="language-plaintext highlighter-rouge">Booking</code></li>
  <li><code class="language-plaintext highlighter-rouge">Check-in Date</code></li>
  <li><code class="language-plaintext highlighter-rouge">Check-out Date</code></li>
</ul>

<p>Naturally, we do need to write language-specific words like <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">while</code>, etc. in order
to build our system. However, we can sometimes hide them behind reusable libraries.</p>

<p>Let’s calculate the CCR of our previous code.</p>

<p>Suppose the <code class="language-plaintext highlighter-rouge">Domain Words</code> are the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Invoice</code></li>
  <li><code class="language-plaintext highlighter-rouge">Paid</code></li>
  <li><code class="language-plaintext highlighter-rouge">Send</code></li>
  <li><code class="language-plaintext highlighter-rouge">Customer</code></li>
</ul>

<p>Let’s analyze the first example.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Invoice</span><span class="o">.</span><span class="na">ifItWasPaid</span><span class="o">().</span><span class="na">then</span><span class="o">().</span><span class="na">sendToCustomer</span><span class="o">()</span>
</code></pre></div></div>

<p>If we consider camel case names as separate words, the Total Words ∑W 
would be <b>9</b>. (<code class="language-plaintext highlighter-rouge">Invoice</code>,<code class="language-plaintext highlighter-rouge">If</code>,<code class="language-plaintext highlighter-rouge">It</code>,<code class="language-plaintext highlighter-rouge">Was</code>,<code class="language-plaintext highlighter-rouge">Paid</code>,<code class="language-plaintext highlighter-rouge">then</code>,<code class="language-plaintext highlighter-rouge">send</code>,<code class="language-plaintext highlighter-rouge">To</code>,<code class="language-plaintext highlighter-rouge">Customer</code>)</p>

<p>Given that only <code class="language-plaintext highlighter-rouge">Invoice</code>, <code class="language-plaintext highlighter-rouge">It</code>, <code class="language-plaintext highlighter-rouge">Send</code>, and <code class="language-plaintext highlighter-rouge">Customer</code> are
<code class="language-plaintext highlighter-rouge">Domain Words</code> the ∑DW would be <b>4</b>.</p>

<p>So, the Code Cleanliness Ratio of this code is</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">CCR</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">9</span> <span class="o">=</span> <span class="mf">0.44444</span>
</code></pre></div></div>

<p>Let’s analyze our second example using the same Domain Words list…</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">...)</span> <span class="o">{</span>
  <span class="nc">Invoice</span> <span class="n">inv</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Invoice</span><span class="o">(</span><span class="n">input</span><span class="o">)</span>
  <span class="kt">boolean</span> <span class="n">wasPaid</span> <span class="o">=</span> <span class="n">inv</span><span class="o">.</span><span class="na">wasPaid</span>
  <span class="nf">if</span> <span class="o">(</span><span class="kt">boolean</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">inv</span><span class="o">.</span><span class="na">sendToCustomer</span><span class="o">()</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>In this example, ∑DW is <b>6</b> and ∑W is <b>23</b>.</p>

<p>So, the Code Cleanliness ratio of this code is</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">CCR</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">/</span> <span class="mi">23</span> <span class="o">=</span> <span class="mf">0.26086</span>
</code></pre></div></div>

<p>We can improve the CCR of our latest code by changing the 
variable name <code class="language-plaintext highlighter-rouge">inv</code> to <code class="language-plaintext highlighter-rouge">invoice</code>, resulting in ∑DW = <b>9</b> 
which would result in a CCR of <code class="language-plaintext highlighter-rouge">0.391304</code></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">CCR</span> <span class="o">=</span> <span class="mi">9</span> <span class="o">/</span> <span class="mi">23</span> <span class="o">=</span> <span class="mf">0.391304</span>
</code></pre></div></div>
:ET